{% load custom_tags %}

{% with page=page|default:"page" %}
  <nav>
    <ul class="pagination m-0 m-2">
      <li class="page-item {% if not page_obj.has_previous %}disabled{% endif %}">
        <a class="page-link"
           href="?{% if page_obj.has_previous %}{% query_transform page page_obj.previous_page_number %}{% endif %}">Prev</a>
      </li>
      {% for page_num in paginator.page_range %}
        <li class="page-item {% if page_obj.number == page_num %}active{% endif %}">
          <a class="page-link" href="?{% query_transform page page_num %}">{{ page_num }}</a>
        </li>
      {% endfor %}
      <li class="page-item {% if not page_obj.has_next %}disabled{% endif %}">
        <a class="page-link"
           href="?{% if page_obj.has_next %}{% query_transform page page_obj.next_page_number %}{% endif %}">Next</a>
      </li>
    </ul>
  </nav>
{% endwith %}
